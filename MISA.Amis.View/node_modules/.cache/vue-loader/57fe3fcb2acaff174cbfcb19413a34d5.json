{"remainingRequest":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeDetail.vue","mtime":1620784117303},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620784107351},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\babel-loader\\lib\\index.js","mtime":1620784107115},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620784107351},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js","mtime":1620784116580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBhd2FpdCBheGlvcw0KICAgICAgLmdldCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzNTUvYXBpL3YxL0VtcGxveWVlRGVwYXJ0bWVudHMiKQ0KICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLmRlcGFydG1lbnRzID0gcmVzLmRhdGE7DQogICAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGJ0bkNsb3NlT25DbGljaygpIHsNCiAgICAgIHRoaXMuJGVtaXQoImhpZGVEaWFsb2ciKTsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eHRFbXBsb3llZUNvZGUiKS52YWx1ZSA9ICIiOw0KICAgIH0sDQogICAgZm9tYXREYXRlKGRhdGUpIHsNCiAgICAgIGlmIChkYXRlID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgICByZXR1cm4gZGF5anMoZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7DQogICAgfSwNCiAgICBidG5TYXZlQWRkT25DbGljaygpIHsNCiAgICAgIGlmICh0aGlzLmZvcm1Nb2RlID09ICJhZGQiKSB7DQogCXRoaXMuZW1wbG95ZWUuZW1wbG95ZWVDb2RlID0gdGhpcy5TZXRFbXBsb3llZUNvZGU7DQogICAgICAgIGF4aW9zDQogICAgICAgICAgLnBvc3QoImh0dHBzOi8vbG9jYWxob3N0OjQ0MzU1L2FwaS92MS9FbXBsb3llZXMiLCB0aGlzLmVtcGxveWVlKQ0KICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImhpZGVEaWFsb2ciKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJoaWRlRGlhbG9nIik7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJzaG93Tm90aWNlIiwgYCR7dGhpcy5lbXBsb3llZS5lbXBsb3llZUNvZGV9YCk7DQogICAgICAgICAgfSk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybU1vZGUgPT0gImVkaXQiKSB7DQogICAgICAgIGlmICh0aGlzLmVtcGxveWVlLmVtcGxveWVlQ29kZSA9PSBudWxsKSB7DQogICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgIC5wdXQoImh0dHBzOi8vbG9jYWxob3N0OjQ0MzU1L2FwaS92MS9FbXBsb3llZXMiLCB0aGlzLmVtcGxveWVlKQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJoaWRlRGlhbG9nIik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIHByb3BzOiB7DQogICAgaXNTaG93OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sDQogICAgZW1wbG95ZWU6IHsgdHlwZTogT2JqZWN0LCBkZWZhdWx0OiBudWxsIH0sDQogICAgZm9ybU1vZGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAiYWRkIiB9LA0KICAgIGVtcGxveWVlQ29kZU5ldzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSwNCiAgICBtYXhSZWNvcmQ6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiBudWxsIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlcGFydG1lbnRzOiBbXSwNCiAgICAgIGdlbmRlcnM6IFsNCiAgICAgICAgeyBuYW1lOiAiTmFtIiwgdmFsdWU6IDEgfSwNCiAgICAgICAgeyBuYW1lOiAiTuG7ryIsIHZhbHVlOiAyIH0sDQogICAgICAgIHsgbmFtZTogIktow6FjIiwgdmFsdWU6IDAgfSwNCiAgICAgIF0sDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHt9LA0KICBjb21wdXRlZDogew0KICAgIFNldEVtcGxveWVlQ29kZSgpIHsNCiAgICAgIGlmICh0aGlzLmVtcGxveWVlLmVtcGxveWVlQ29kZSAhPSBudWxsICYmIHRoaXMubWF4UmVjb3JkID49IDApIHsNCiAgICAgICAgdmFyIGVkaXQgPSB0aGlzLmVtcGxveWVlLmVtcGxveWVlQ29kZTsNCiAgICAgICAgcmV0dXJuIGVkaXQ7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB2YXIgYWRkID0gIk5WLSIgKyBgJHt0aGlzLm1heFJlY29yZCArIDF9YDsNCiAgICAgICAgcmV0dXJuIGFkZDsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["EmployeeDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeDetail.vue","sourceRoot":"src/views/employee","sourcesContent":["<template>\r\n  <div>\r\n    <form @submit.prevent=\"btnSaveAddOnClick\">\r\n      <div\r\n        id=\"dlgEmployeeDetail\"\r\n        class=\"dialog \"\r\n        :class=\"{ 'dialog-hide': !isShow }\"\r\n      >\r\n        <div class=\"model\"></div>\r\n        <div class=\"dialog-content\">\r\n          <div class=\"dialog-header\">\r\n            <div class=\"dialog-title\">THÔNG TIN NHÂN VIÊN</div>\r\n            <input class=\"title-input\" type=\"checkbox\" /> <a>Là khách hàng</a>\r\n            <input class=\"title-input\" type=\"checkbox\" /> <a>Là nhà cũng cấp</a>\r\n            <div class=\"dialog-close-button\" @click=\"btnCloseOnClick()\">\r\n              &#x2715;\r\n            </div>\r\n          </div>\r\n          <div class=\"dialog-body\">\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <label>Mã <span style=\"color:red\">*</span></label>\r\n                <input\r\n                  id=\"txtEmployeeCode\"\r\n                  type=\"text\"\r\n                  :value=\"SetEmployeeCode\"\r\n                  v-on:input=\"employee.employeeCode = $event.target.value\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Tên <span style=\"color:red\">*</span></label>\r\n                <input\r\n                  id=\"txtEmployeeName\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.employeeName\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"m-col\">\r\n                <label>Ngày sinh</label>\r\n                <input\r\n                  id=\"inp-dateOfBirth\"\r\n                  type=\"date\"\r\n                  v-bind:value=\"fomatDate(employee.dateOfBirth)\"\r\n                  v-on:input=\"employee.dateOfBirth = $event.target.value\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Giới tính</label>\r\n                <div style=\"display:flex\">\r\n                  <div\r\n                    class=\"gender-col\"\r\n                    v-for=\"gender in genders\"\r\n                    :key=\"gender.name\"\r\n                  >\r\n                    <input\r\n                      :value=\"gender.value\"\r\n                      name=\"gender\"\r\n                      type=\"radio\"\r\n                      v-model=\"employee.gender\"\r\n                    />\r\n                    <span>{{ gender.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <div>\r\n                  <label>Đơn vị <span style=\"color:red\">*</span></label>\r\n                  <select\r\n                    id=\"cbEmployeeDepartment\"\r\n                    v-model=\"employee.employeeDepartmentId\"\r\n                    required\r\n                  >\r\n                    <option\r\n                      v-for=\"department in departments\"\r\n                      :key=\"department.employeeDepartmentId\"\r\n                      :value=\"department.employeeDepartmentId\"\r\n                      >{{ department.employeeDepartmentName }}</option\r\n                    >\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"m-col\" style=\"padding: 0\">\r\n                <div class=\"m-col\">\r\n                  <label>Số CMND</label>\r\n                  <input\r\n                    id=\"identifyNumber\"\r\n                    type=\"text\"\r\n                    v-model=\"employee.identificationId\"\r\n                  />\r\n                </div>\r\n                <div class=\"m-col\">\r\n                  <label>Ngày cấp</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"identifyDate\"\r\n                    id=\"identifyDate\"\r\n                    v-bind:value=\"fomatDate(employee.identificationDate)\"\r\n                    v-on:input=\"\r\n                      employee.identificationDate = $event.target.value\r\n                    \"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <label>Chức danh</label>\r\n                <input\r\n                  id=\"positionName\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.employeePositionName\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Nơi cấp</label>\r\n                <input\r\n                  id=\"identifyPlace\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.identificationPlace\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"margin-top: 30px;\">\r\n              <div class=\"m-col\" style=\"width: 100%;\">\r\n                <label>Địa chỉ</label>\r\n                <input id=\"address\" type=\"text\" v-model=\"employee.address\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"width: 80%;\">\r\n              <div class=\"m-col\">\r\n                <label>ĐT di động</label>\r\n                <input\r\n                  id=\"telephoneNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.telephoneNumber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>ĐT cố đinh</label>\r\n                <input\r\n                  id=\"tablephoneNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.tablephoneNmber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Email</label>\r\n                <input id=\"email\" type=\"text\" v-model=\"employee.email\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"width: 80%;\">\r\n              <div class=\"m-col\">\r\n                <label>Tài khoản ngân hàng</label>\r\n                <input\r\n                  id=\"bankNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.bankNumber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Tên ngân hàng</label>\r\n                <input id=\"bankName\" type=\"text\" v-model=\"employee.bankName\" />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Chi nhánh</label>\r\n                <input\r\n                  id=\"bankBrach\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.bankBranch\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dialog-footer\">\r\n              <div class=\"footer-left\">\r\n                <button\r\n                  id=\"btnExit\"\r\n                  class=\"btn-default\"\r\n                  style=\"background-color: white; color: black; border: 1px solid black; line-height: 0; font-weight: bold\"\r\n                  @click=\"btnCloseOnClick()\"\r\n                >\r\n                  Hủy\r\n                </button>\r\n              </div>\r\n              <div class=\"footer-right\">\r\n                <button\r\n                  id=\"btnSave\"\r\n                  class=\"btn-default\"\r\n                  style=\"background-color: white; color: black; border: 1px solid black; line-height: 0; font-weight: bold\"\r\n                >\r\n                  Cất\r\n                </button>\r\n                <button id=\"btnSaveAdd\" class=\"btn-default\" type=\"submit\">\r\n                  Cất và thêm\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\nexport default {\r\n  async created() {\r\n    await axios\r\n      .get(\"https://localhost:44355/api/v1/EmployeeDepartments\")\r\n      .then((res) => {\r\n        this.departments = res.data;\r\n      });\r\n  },\r\n  methods: {\r\n    btnCloseOnClick() {\r\n      this.$emit(\"hideDialog\");\r\n      document.getElementById(\"txtEmployeeCode\").value = \"\";\r\n    },\r\n    fomatDate(date) {\r\n      if (date == null) {\r\n        return 0;\r\n      }\r\n      return dayjs(date).format(\"YYYY-MM-DD\");\r\n    },\r\n    btnSaveAddOnClick() {\r\n      if (this.formMode == \"add\") {\r\n \tthis.employee.employeeCode = this.SetEmployeeCode;\r\n        axios\r\n          .post(\"https://localhost:44355/api/v1/Employees\", this.employee)\r\n          .then(() => {\r\n            this.$emit(\"hideDialog\");\r\n          })\r\n          .catch(() => {\r\n            this.$emit(\"hideDialog\");\r\n            this.$emit(\"showNotice\", `${this.employee.employeeCode}`);\r\n          });\r\n      } else if (this.formMode == \"edit\") {\r\n        if (this.employee.employeeCode == null) {\r\n          return null;\r\n        } else {\r\n          axios\r\n            .put(\"https://localhost:44355/api/v1/Employees\", this.employee)\r\n            .then(() => {\r\n              this.$emit(\"hideDialog\");\r\n            });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    isShow: { type: Boolean, default: false },\r\n    employee: { type: Object, default: null },\r\n    formMode: { type: String, default: \"add\" },\r\n    employeeCodeNew: { type: String, default: null },\r\n    maxRecord: { type: Number, default: null },\r\n  },\r\n  data() {\r\n    return {\r\n      departments: [],\r\n      genders: [\r\n        { name: \"Nam\", value: 1 },\r\n        { name: \"Nữ\", value: 2 },\r\n        { name: \"Khác\", value: 0 },\r\n      ],\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    SetEmployeeCode() {\r\n      if (this.employee.employeeCode != null && this.maxRecord >= 0) {\r\n        var edit = this.employee.employeeCode;\r\n        return edit;\r\n      } else {\r\n        var add = \"NV-\" + `${this.maxRecord + 1}`;\r\n        return add;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}