{"remainingRequest":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeDetail.vue","mtime":1620787519497},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620785079948},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\babel-loader\\lib\\index.js","mtime":1620785079722},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620785079948},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js","mtime":1620785088684}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBhd2FpdCBheGlvcw0KICAgICAgLmdldCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzNTUvYXBpL3YxL0VtcGxveWVlRGVwYXJ0bWVudHMiKQ0KICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLmRlcGFydG1lbnRzID0gcmVzLmRhdGE7DQogICAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGJ0bkNsb3NlT25DbGljaygpIHsNCiAgICAgIHRoaXMuJGVtaXQoImhpZGVEaWFsb2ciKTsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eHRFbXBsb3llZUNvZGUiKS52YWx1ZSA9ICIiOw0KICAgIH0sDQogICAgZm9tYXREYXRlKGRhdGUpIHsNCiAgICAgIGlmIChkYXRlID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgICByZXR1cm4gZGF5anMoZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7DQogICAgfSwNCiAgICBidG5TYXZlQWRkT25DbGljaygpIHsNCiAgICAgIGlmICh0aGlzLmZvcm1Nb2RlID09ICJhZGQiKSB7ICAgICAgDQogICAgICAgIHRoaXMuZW1wbG95ZWUuZW1wbG95ZWVDb2RlID0gdGhpcy5TZXRFbXBsb3llZUNvZGU7ICAgIA0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5wb3N0KCJodHRwczovL2xvY2FsaG9zdDo0NDM1NS9hcGkvdjEvRW1wbG95ZWVzIiwgdGhpcy5lbXBsb3llZSkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJoaWRlRGlhbG9nIik7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiaGlkZURpYWxvZyIpOw0KICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd05vdGljZSIsIGAke3RoaXMuZW1wbG95ZWUuZW1wbG95ZWVDb2RlfWApOw0KICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1Nb2RlID09ICJlZGl0Iikgew0KICAgICAgICBpZiAodGhpcy5lbXBsb3llZS5lbXBsb3llZUNvZGUgPT0gbnVsbCkgew0KICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucHV0KCJodHRwczovL2xvY2FsaG9zdDo0NDM1NS9hcGkvdjEvRW1wbG95ZWVzIiwgdGhpcy5lbXBsb3llZSkNCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiaGlkZURpYWxvZyIpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBwcm9wczogew0KICAgIGlzU2hvdzogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LA0KICAgIGVtcGxveWVlOiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogbnVsbCB9LA0KICAgIGZvcm1Nb2RlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogImFkZCIgfSwNCiAgICBlbXBsb3llZUNvZGVOZXc6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sDQogICAgbWF4UmVjb3JkOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogbnVsbCB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkZXBhcnRtZW50czogW10sDQogICAgICBnZW5kZXJzOiBbDQogICAgICAgIHsgbmFtZTogIk5hbSIsIHZhbHVlOiAxIH0sDQogICAgICAgIHsgbmFtZTogIk7hu68iLCB2YWx1ZTogMiB9LA0KICAgICAgICB7IG5hbWU6ICJLaMOhYyIsIHZhbHVlOiAwIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIHdhdGNoOiB7fSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBTZXRFbXBsb3llZUNvZGUoKSB7DQogICAgICBpZiAodGhpcy5lbXBsb3llZS5lbXBsb3llZUNvZGUgIT0gbnVsbCAmJiB0aGlzLm1heFJlY29yZCA+PSAwKSB7DQogICAgICAgIHZhciBlZGl0ID0gdGhpcy5lbXBsb3llZS5lbXBsb3llZUNvZGU7DQogICAgICAgIHJldHVybiBlZGl0Ow0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIGFkZCA9ICJOVi0iICsgYCR7dGhpcy5tYXhSZWNvcmQgKyAxfWA7DQogICAgICAgIHJldHVybiBhZGQ7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["EmployeeDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeDetail.vue","sourceRoot":"src/views/employee","sourcesContent":["<template>\r\n  <div>\r\n    <form @submit.prevent=\"btnSaveAddOnClick\">\r\n      <div\r\n        id=\"dlgEmployeeDetail\"\r\n        class=\"dialog \"\r\n        :class=\"{ 'dialog-hide': !isShow }\"\r\n      >\r\n        <div class=\"model\"></div>\r\n        <div class=\"dialog-content\">\r\n          <div class=\"dialog-header\">\r\n            <div class=\"dialog-title\">THÔNG TIN NHÂN VIÊN</div>\r\n            <input class=\"title-input\" type=\"checkbox\" /> <a>Là khách hàng</a>\r\n            <input class=\"title-input\" type=\"checkbox\" /> <a>Là nhà cũng cấp</a>\r\n            <div class=\"dialog-close-button\" @click=\"btnCloseOnClick()\">\r\n              &#x2715;\r\n            </div>\r\n          </div>\r\n          <div class=\"dialog-body\">\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <label>Mã <span style=\"color:red\">*</span></label>\r\n                <input\r\n                  id=\"txtEmployeeCode\"\r\n                  type=\"text\"\r\n                  :value=\"SetEmployeeCode\"\r\n                  autofocus\r\n                  ref=\"eCode\"\r\n                  v-on:input=\"employee.employeeCode = $event.target.value\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Tên <span style=\"color:red\">*</span></label>\r\n                <input\r\n                  id=\"txtEmployeeName\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.employeeName\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"m-col\">\r\n                <label>Ngày sinh</label>\r\n                <input\r\n                  id=\"inp-dateOfBirth\"\r\n                  type=\"date\"\r\n                  v-bind:value=\"fomatDate(employee.dateOfBirth)\"\r\n                  v-on:input=\"employee.dateOfBirth = $event.target.value\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Giới tính</label>\r\n                <div style=\"display:flex\">\r\n                  <div\r\n                    class=\"gender-col\"\r\n                    v-for=\"gender in genders\"\r\n                    :key=\"gender.name\"\r\n                  >\r\n                    <input\r\n                      :value=\"gender.value\"\r\n                      name=\"gender\"\r\n                      type=\"radio\"\r\n                      v-model=\"employee.gender\"\r\n                    />\r\n                    <span>{{ gender.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <div>\r\n                  <label>Đơn vị <span style=\"color:red\">*</span></label>\r\n                  <select\r\n                    id=\"cbEmployeeDepartment\"\r\n                    v-model=\"employee.employeeDepartmentId\"\r\n                    required\r\n                  >\r\n                    <option\r\n                      v-for=\"department in departments\"\r\n                      :key=\"department.employeeDepartmentId\"\r\n                      :value=\"department.employeeDepartmentId\"\r\n                      >{{ department.employeeDepartmentName }}</option\r\n                    >\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"m-col\" style=\"padding: 0\">\r\n                <div class=\"m-col\">\r\n                  <label>Số CMND</label>\r\n                  <input\r\n                    id=\"identifyNumber\"\r\n                    type=\"text\"\r\n                    v-model=\"employee.identificationId\"\r\n                  />\r\n                </div>\r\n                <div class=\"m-col\">\r\n                  <label>Ngày cấp</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"identifyDate\"\r\n                    id=\"identifyDate\"\r\n                    v-bind:value=\"fomatDate(employee.identificationDate)\"\r\n                    v-on:input=\"\r\n                      employee.identificationDate = $event.target.value\r\n                    \"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\">\r\n              <div class=\"m-col\">\r\n                <label>Chức danh</label>\r\n                <input\r\n                  id=\"positionName\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.employeePositionName\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Nơi cấp</label>\r\n                <input\r\n                  id=\"identifyPlace\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.identificationPlace\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"margin-top: 30px;\">\r\n              <div class=\"m-col\" style=\"width: 100%;\">\r\n                <label>Địa chỉ</label>\r\n                <input id=\"address\" type=\"text\" v-model=\"employee.address\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"width: 80%;\">\r\n              <div class=\"m-col\">\r\n                <label>ĐT di động</label>\r\n                <input\r\n                  id=\"telephoneNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.telephoneNumber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>ĐT cố đinh</label>\r\n                <input\r\n                  id=\"tablephoneNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.tablephoneNmber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Email</label>\r\n                <input id=\"email\" type=\"text\" v-model=\"employee.email\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"m-row\" style=\"width: 80%;\">\r\n              <div class=\"m-col\">\r\n                <label>Tài khoản ngân hàng</label>\r\n                <input\r\n                  id=\"bankNumber\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.bankNumber\"\r\n                />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Tên ngân hàng</label>\r\n                <input id=\"bankName\" type=\"text\" v-model=\"employee.bankName\" />\r\n              </div>\r\n              <div class=\"m-col\">\r\n                <label>Chi nhánh</label>\r\n                <input\r\n                  id=\"bankBrach\"\r\n                  type=\"text\"\r\n                  v-model=\"employee.bankBranch\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dialog-footer\">\r\n              <div class=\"footer-left\">\r\n                <button\r\n                  id=\"btnExit\"\r\n                  class=\"btn-default\"\r\n                  style=\"background-color: white; color: black; border: 1px solid black; line-height: 0; font-weight: bold\"\r\n                  @click=\"btnCloseOnClick()\"\r\n                >\r\n                  Hủy\r\n                </button>\r\n              </div>\r\n              <div class=\"footer-right\">\r\n                <button\r\n                  id=\"btnSave\"\r\n                  class=\"btn-default\"\r\n                  style=\"background-color: white; color: black; border: 1px solid black; line-height: 0; font-weight: bold\"\r\n                >\r\n                  Cất\r\n                </button>\r\n                <button id=\"btnSaveAdd\" class=\"btn-default\" type=\"submit\">\r\n                  Cất và thêm\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\nexport default {\r\n  async created() {\r\n    await axios\r\n      .get(\"https://localhost:44355/api/v1/EmployeeDepartments\")\r\n      .then((res) => {\r\n        this.departments = res.data;\r\n      });\r\n  },\r\n  methods: {\r\n    btnCloseOnClick() {\r\n      this.$emit(\"hideDialog\");\r\n      document.getElementById(\"txtEmployeeCode\").value = \"\";\r\n    },\r\n    fomatDate(date) {\r\n      if (date == null) {\r\n        return 0;\r\n      }\r\n      return dayjs(date).format(\"YYYY-MM-DD\");\r\n    },\r\n    btnSaveAddOnClick() {\r\n      if (this.formMode == \"add\") {      \r\n        this.employee.employeeCode = this.SetEmployeeCode;    \r\n        axios\r\n          .post(\"https://localhost:44355/api/v1/Employees\", this.employee)\r\n          .then(() => {\r\n            this.$emit(\"hideDialog\");\r\n          })\r\n          .catch(() => {\r\n            this.$emit(\"hideDialog\");\r\n            this.$emit(\"showNotice\", `${this.employee.employeeCode}`);\r\n          });\r\n      } else if (this.formMode == \"edit\") {\r\n        if (this.employee.employeeCode == null) {\r\n          return null;\r\n        } else {\r\n          axios\r\n            .put(\"https://localhost:44355/api/v1/Employees\", this.employee)\r\n            .then(() => {\r\n              this.$emit(\"hideDialog\");\r\n            });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    isShow: { type: Boolean, default: false },\r\n    employee: { type: Object, default: null },\r\n    formMode: { type: String, default: \"add\" },\r\n    employeeCodeNew: { type: String, default: null },\r\n    maxRecord: { type: Number, default: null },\r\n  },\r\n  data() {\r\n    return {\r\n      departments: [],\r\n      genders: [\r\n        { name: \"Nam\", value: 1 },\r\n        { name: \"Nữ\", value: 2 },\r\n        { name: \"Khác\", value: 0 },\r\n      ],\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    SetEmployeeCode() {\r\n      if (this.employee.employeeCode != null && this.maxRecord >= 0) {\r\n        var edit = this.employee.employeeCode;\r\n        return edit;\r\n      } else {\r\n        var add = \"NV-\" + `${this.maxRecord + 1}`;\r\n        return add;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}