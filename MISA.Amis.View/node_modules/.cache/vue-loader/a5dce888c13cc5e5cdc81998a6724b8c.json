{"remainingRequest":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\src\\view\\employee\\EmployeeList.vue?vue&type=style&index=0&id=c71d5908&scoped=true&lang=css&","dependencies":[{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\src\\view\\employee\\EmployeeList.vue","mtime":1617816800794},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgJy4uLy4uL3N0eWxlL3BhZ2UvZW1wbG95ZWUuY3NzJzsNCg0Kc2VsZWN0IHsNCiAgbWFyZ2luLXRvcDogMDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIHdpZHRoOiAyMDBweDsNCn0NCg0KLmVtcGxveWVlQ2xpY2t7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2JlYmViZTsNCn0NCg0K"},{"version":3,"sources":["EmployeeList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"EmployeeList.vue","sourceRoot":"src/view/employee","sourcesContent":["<template>\r\n    <div>\r\n         <div class=\"page-title\">\r\n            <div class=\"page-left\">Danh sách nhân viên</div>\r\n            <div class=\"page-right\">\r\n                <button id=\"btnAdd\" class=\"btn-default\" @click=\"btnAddOnClick()\">Thêm nhân viên</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"toolbar\">\r\n            <input type=\"text\" class=\"input-search\" style=\"width: 330px;\" placeholder=\"Tìm kiếm theo Mã, Tên hoặc Số điện thoại\" v-on:input=\"employeeFilter.employeeCode= $event.target.value\" />\r\n            <select id=\"select-Department\" v-on:input=\"employeeFilter.departmentId = $event.target.value\" >\r\n                            <option value=\"\">Tất cả các phòng</option>\r\n                            <option value=\"17120d02-6ab5-3e43-18cb-66948daf6128\">Phòng đào tạo</option>                    \r\n                            <option value=\"4e272fc4-7875-78d6-7d32-6a1673ffca7c\">Phòng công nghệ</option>       \r\n                            <option value=\"469b3ece-744a-45d5-957d-e8c757976496\">Phòng nhân sự</option>\r\n                            <option value=\"142cb08f-7c31-21fa-8e90-67245e8b283e\">Phòng Marketting</option> \r\n                        </select>\r\n            <select id=\"select-Position\" v-on:input=\"employeeFilter.positionId = $event.target.value\" >\r\n                             <option value=\"\">Tất cả cả vị trí</option>\r\n                            <option value=\"148ed882-32b8-218e-9c20-39c2f00615e8\">Nhân viên Marketting</option>      \r\n                            <option value=\"3700cc49-55b5-69ea-4929-a2925c0f334d\">Giám đốc</option>\r\n                            <option value=\"25c6c36e-1668-7d10-6e09-bf1378b8dc91\">Thu ngân</option>                                                                  \r\n             </select>\r\n            <button class=\"btn-refresh\" @click=\"loadData()\"></button>\r\n            <button class=\"btn-delete\" @click=\"btnClickDelete()\"></button>\r\n        </div>\r\n        <div class=\"grid\">\r\n            <table id=\"tblListCustomer\" class=\"table\" width=\"100%\" border=\"0\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mã nhân viên</th>\r\n                        <th>Họ và tên</th>\r\n                        <th>Giới tính</th>\r\n                        <th>Ngày sinh</th>\r\n                        <th>Điện thoại</th>\r\n                        <th>Email</th>                       \r\n                       <th>Chức vụ</th>\r\n                       <th>Phòng ban</th>\r\n                       <th>Mức lương cơ bản</th>\r\n                       <th>Tình trạng công việc</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody v-for=\"employee in employees\" :key=\"employee.EmployeeId\" @dblclick=\"trOnDblClick(employee.EmployeeId)\"\r\n                     @click=\"getEmployeeId(employee.EmployeeId)\" v-bind:class=\"{'employeeClick':employee.EmployeeId==employeeClick}\">\r\n                    <tr>\r\n                        <td>{{employee.EmployeeCode}}</td>\r\n                        <td>{{employee.FullName}}</td>\r\n                        <td>{{employee.GenderName}}</td>\r\n                        <td>{{formatDateDDMMYY(employee.DateOfBirth)}}</td>\r\n                        <td>{{employee.PhoneNumber }} </td>\r\n                        <td>{{employee.Email }} </td>\r\n                        <td>{{employee.PositionName  }}</td>\r\n                        <td>{{employee.DepartmentName  }}</td>\r\n                        <td>{{formatMoney(employee.Salary)  }}</td>\r\n                        <td>{{converWorkStatus(employee.WorkStatus) }}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class=\"paging\" :class=\"{'dialog-hide': isShowDialogDetail || isShowPopupDetail}\">\r\n            <div data-v-a72348a4=\"\" class=\"paging-bar\">\r\n                    <div data-v-a72348a4=\"\" class=\"paging-record-info\">Hiển thị <b data-v-a72348a4=\"\">1-10/1000</b> nhân viên</div>\r\n                    <div data-v-a72348a4=\"\" class=\"paging-option\" >\r\n                        <div data-v-a72348a4=\"\" class=\"btn-select-page m-btn-firstpage\"></div>\r\n                        <div data-v-a72348a4=\"\" class=\"btn-select-page m-btn-prev-page\"></div>\r\n                        <div data-v-a72348a4=\"\" class=\"m-btn-list-page\">                  \r\n                            <button data-v-a72348a4=\"\" class=\"btn-pagenumber btn-pagenumber-selected\">1</button>\r\n                            <button data-v-a72348a4=\"\" class=\"btn-pagenumber\">2</button>\r\n                            <button data-v-a72348a4=\"\" class=\"btn-pagenumber\">3</button>\r\n                            <button data-v-a72348a4=\"\" class=\"btn-pagenumber\">4</button>                               \r\n                        </div>\r\n                        <div data-v-a72348a4=\"\" class=\"btn-select-page m-btn-next-page\"></div>\r\n                        <div data-v-a72348a4=\"\" class=\"btn-select-page m-btn-lastpage\"></div>\r\n                </div>\r\n                <div data-v-a72348a4=\"\" class=\"paging-record-option\"><b data-v-a72348a4=\"\">10</b> nhân viên/trang</div></div>\r\n        </div>\r\n            <EmployeeDetail :isShow=\"isShowDialogDetail\" @hideDialog=\"hideDialog\"  :formMode=\"dialogFormMode\" :employee=\"employeeDetail\" @loadData=\"loadData\"/>\r\n\r\n            <AlertPopup :isPopupShow=\"isShowPopupDetail\" @hidePopup=\"hidePopup\" :employee=\"employeeDetail\" @loadData=\"loadData\"/>\r\n/\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport EmployeeDetail from './EmployeeDetail.vue'\r\nimport AlertPopup from '../../view/pop-up/AlertPopup.vue'\r\nimport axios from 'axios'\r\nexport default {\r\n    components:{\r\n        EmployeeDetail,\r\n        AlertPopup\r\n    },\r\n    created(){\r\n        axios\r\n        .get(\"http://api.manhnv.net/v1/employees\")\r\n        .then((res) =>{\r\n            this.employees = res.data;\r\n            console.log(res);\r\n        })\r\n        .catch((res) => {\r\n            console.log(res);\r\n        })\r\n    },\r\n    props:[],\r\n    methods:{\r\n        loadData(){\r\n            if(this.employeeFilter.employeeCode == \"\" && this.employeeFilter.departmentId == \"\" && this.employeeFilter.positionId == \"\"){\r\n                 axios\r\n                .get(\"http://api.manhnv.net/v1/employees\")\r\n                .then((res) =>{\r\n                    this.employees = res.data;\r\n                    console.log(res);\r\n                })\r\n                .catch((res) => {\r\n                    console.log(res);\r\n                })\r\n            }else{\r\n                axios\r\n                .get(\"http://api.manhnv.net/v1/Employees/employeeFilter?pageSize=10&pageNumber=1&employeeFilter=\"+this.employeeFilter.employeeCode+\"&departmentId=\"+this.employeeFilter.departmentId+\"&positionId=\"+this.employeeFilter.positionId)\r\n                .then((res) =>{\r\n                    this.employees = res.data;\r\n                    console.log(res);\r\n                })\r\n                .catch((res) => {\r\n                    console.log(res);\r\n                })\r\n            }\r\n           \r\n        },\r\n        btnAddOnClick(){\r\n            this.isShowDialogDetail =  true;\r\n            this.dialogFormMode = \"add\",\r\n            this.employeeDetail = {};\r\n        },\r\n        hideDialog(){\r\n            this.isShowDialogDetail =  false;\r\n        },\r\n        hidePopup(){\r\n            this.isShowPopupDetail =  false;\r\n        },\r\n        getEmployeeId(id){\r\n            this.employeeId = id;\r\n            this.employeeClick = id;\r\n        },\r\n        trOnDblClick(id){\r\n            axios\r\n            .get(\"http://api.manhnv.net/v1/Employees/\" + id)\r\n            .then((res) => {\r\n                this.dialogFormMode = \"edit\";\r\n                this.employeeDetail =  res.data;\r\n                this.isShowDialogDetail = true;\r\n            })        \r\n        },\r\n        btnClickDelete(){\r\n            if(this.employeeClick == null || this.employeeClick ==  this.employeeDetail.EmployeeId){\r\n                alert(\"Chọn 1 nhân viên để xóa!!!\");\r\n            }else{\r\n             axios\r\n            .get(\"http://api.manhnv.net/v1/Employees/\" + this.employeeClick)\r\n            .then((res) => {\r\n                this.employeeDetail =  res.data;\r\n                this.isShowPopupDetail = true;\r\n            })\r\n            }\r\n        },\r\n        converWorkStatus(index){\r\n            if(index == 0){\r\n                return \"Đang thử việc\";\r\n            }else if( index == 1){\r\n                return \"Đã nghỉ việc\";\r\n            }else if(index == 2){\r\n                return \"Đã nghỉ hưu\";\r\n            }else{\r\n                return \"Không rõ\"\r\n            }\r\n        },\r\n        formatMoney(money) {\r\n            if(money){\r\n                return money.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.') ;\r\n            }else{\r\n                return \"Không có\"\r\n            }\r\n        },\r\n        formatDateDDMMYY(date) {\r\n            if (date == null) {\r\n                return \"Không có\";\r\n            }\r\n            var newDate = new Date(date);\r\n            var dateString = newDate.getDate();\r\n            var monthString = newDate.getMonth() + 1;\r\n            var yearString = newDate.getFullYear();\r\n            return `${dateString}/${monthString}/${yearString}`;\r\n        }\r\n    }, \r\n    data(){\r\n        return{\r\n            dialogFormMode: \"add\",\r\n            isShowDialogDetail: false,\r\n            isShowPopupDetail: false,\r\n            employees: [],\r\n            employeeDetail: {},\r\n            employeeId: null,\r\n            employeeClick: null,\r\n            employeeFilter: {\r\n                \"pageSize\" : \"10\" ,\r\n                \"pageNumber\" : \"1\",\r\n                \"employeeCode\": \"\",\r\n                \"departmentId\": \"\",\r\n                \"positionId\": \"\",\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '../../style/page/employee.css';\r\n\r\nselect {\r\n  margin-top: 0;\r\n  margin-left: 10px;\r\n  width: 200px;\r\n}\r\n\r\n.employeeClick{\r\n    background-color: #bebebe;\r\n}\r\n\r\n</style>"]}]}