{"remainingRequest":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\src\\views\\employee\\EmployeeList.vue","mtime":1620784117303},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620784107351},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\babel-loader\\lib\\index.js","mtime":1620784107115},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620784107351},{"path":"D:\\tmquy\\MISA.Amis\\MISA.Amis.View\\node_modules\\vue-loader\\lib\\index.js","mtime":1620784116580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsNCg0KLy9pbXBvcnQgY29tcG9uZW50cw0KaW1wb3J0IEVtcGxveWVlRGV0YWlsIGZyb20gIi4vRW1wbG95ZWVEZXRhaWwudnVlIjsNCmltcG9ydCBOb3RpY2VEaWFsb2cgZnJvbSAiLi4vZGlhbG9nL05vdGljZURpYWxvZy52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgRW1wbG95ZWVEZXRhaWwsDQogICAgTm90aWNlRGlhbG9nLA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZERhdGEoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGxvYWRUb3RhbFJlY29yZCgpIHsNCiAgICAgIGF4aW9zDQogICAgICAgIC5nZXQoImh0dHBzOi8vbG9jYWxob3N0OjQ0MzU1L2FwaS92MS9FbXBsb3llZXMvdG90YWwiKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgdGhpcy50b3RhbFJlY29yZCA9IHJlcy5kYXRhOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgbG9hZERhdGEoKSB7DQogICAgICBheGlvcw0KICAgICAgICAuZ2V0KA0KICAgICAgICAgIGBodHRwczovL2xvY2FsaG9zdDo0NDM1NS9hcGkvdjEvRW1wbG95ZWVzL3BhZ2dpbmc/cGFnZUluZGV4PTEmcGFnZVNpemU9JHt0aGlzLnBhZ2VTaXplU2VsZWN0ZWR9YA0KICAgICAgICApDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLmVtcGxveWVlcyA9IHJlcy5kYXRhOw0KICAgICAgICAgIHRoaXMubG9hZFRvdGFsUmVjb3JkKCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgZm9tYXRCaXJ0aGRheShjdXNiaXJ0aGRheSkgew0KICAgICAgaWYgKGN1c2JpcnRoZGF5ID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuICJLaMO0bmcgY8OzIjsNCiAgICAgIH0NCiAgICAgIHJldHVybiBkYXlqcyhjdXNiaXJ0aGRheSkuZm9ybWF0KCJERC9NTS9ZWVlZIik7DQogICAgfSwNCiAgICBHZXRFbXBsb3llZUlkQ2xpY2soZW1wbG95ZWVJZCwgZW1wbG95ZWVDb2RlKSB7DQogICAgICB0aGlzLmVtcGxveWVlQ2xpY2sgPSBlbXBsb3llZUlkOw0KICAgICAgdGhpcy5pc0VtcGxveWVlQ29kZSA9IGVtcGxveWVlQ29kZTsNCiAgICB9LA0KICAgIFNob3dFbXBsb3llZURldGFpbChlbXBsb3llZUlkKSB7DQogICAgICBheGlvcw0KICAgICAgICAuZ2V0KCJodHRwczovL2xvY2FsaG9zdDo0NDM1NS9hcGkvdjEvRW1wbG95ZWVzLyIgKyBlbXBsb3llZUlkKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgdGhpcy5lbXBsb3llZURldGFpbCA9IHJlcy5kYXRhOw0KICAgICAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1Nb2RlID0gImVkaXQiOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGJ0bkFkZE9uQ2xpY2soKSB7DQogICAgICB0aGlzLmlzU2hvdyA9IHRydWU7DQogICAgICB0aGlzLmRpYWxvZ0Zvcm1Nb2RlID0gImFkZCI7DQogICAgICB0aGlzLmVtcGxveWVlRGV0YWlsID0ge307DQogICAgfSwNCiAgICBIaWRlRW1wbG95ZWVEZXRhaWwoKSB7DQogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOw0KICAgICAgdGhpcy5sb2FkRGF0YSgpOw0KICAgIH0sDQogICAgZmlsdGVyUmVjb3JkKHBhZ2VJbmRleCkgew0KICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZU91dCk7DQogICAgICB0aGlzLnRpbWVPdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgYXhpb3MNCiAgICAgICAgICAuZ2V0KA0KICAgICAgICAgICAgYGh0dHBzOi8vbG9jYWxob3N0OjQ0MzU1L2FwaS92MS9FbXBsb3llZXMvcGFnZ2luZz9wYWdlSW5kZXg9JHtwYWdlSW5kZXh9JnBhZ2VTaXplPSR7dGhpcy5wYWdlU2l6ZVNlbGVjdGVkfSZmaWxsdGVyPSR7dGhpcy5maWx0ZXJzfWANCiAgICAgICAgICApDQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy50b3RhbFJlY29yZCA9IHJlcy5kYXRhLmxlbmd0aDsNCiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzID0gcmVzLmRhdGE7DQogICAgICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlSW5kZXg7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID49IHRoaXMucGFnZVNpemVTZWxlY3RlZCkgew0KICAgICAgICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSBwYWdlSW5kZXggKyAxOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gcGFnZUluZGV4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgfSwgNTAwKTsNCiAgICB9LA0KICAgIGZ1bmN0aW9uRmlsbHRlcihmdW5jdGlvbkNvZGUpIHsNCiAgICAgIGlmIChmdW5jdGlvbkNvZGUgPT0gMSkgew0KICAgICAgICB0aGlzLmlzU2hvd0RlbGV0ZSA9IHRydWU7DQogICAgICB9DQoNCiAgICAgIHRoaXMuZnVuY3Rpb25JbmRleCA9IG51bGw7DQogICAgfSwNCiAgICBmdW5jdGlvbkRlbGV0ZSgpIHsNCiAgICAgIGF4aW9zDQogICAgICAgIC5kZWxldGUoDQogICAgICAgICAgYGh0dHBzOi8vbG9jYWxob3N0OjQ0MzU1L2FwaS92MS9FbXBsb3llZXM/ZW1wbG95ZWVJZD0ke3RoaXMuZW1wbG95ZWVDbGlja31gDQogICAgICAgICkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMubG9hZERhdGEoKTsNCiAgICAgICAgICB0aGlzLnBhZ2UgPSAxOw0KICAgICAgICAgIHRoaXMudG90YWxQYWdlcyA9IDM7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgU2hvd05vdGljZShlbXBsb3llZUNvZGUpIHsNCiAgICAgIHRoaXMuaXNTaG93RXhpdHMgPSB0cnVlOw0KICAgICAgdGhpcy5pc0VtcGxveWVlQ29kZSA9IGVtcGxveWVlQ29kZTsNCiAgICB9LA0KICAgIEhpZGVOb3RpY2UoKSB7DQogICAgICB0aGlzLmlzU2hvd0V4aXRzID0gZmFsc2U7DQogICAgICB0aGlzLmlzU2hvd0RlbGV0ZSA9IGZhbHNlOw0KICAgICAgdGhpcy5mdW5jdGlvbkRlbGV0ZSgpOw0KICAgIH0sDQogICAgdGFibGVUb0V4Y2VsKHRhYmxlLCBuYW1lKSB7DQogICAgICBpZiAoIXRhYmxlLm5vZGVUeXBlKSB0YWJsZSA9IHRoaXMuJHJlZnMudGFibGU7DQogICAgICB2YXIgY3R4ID0geyB3b3Jrc2hlZXQ6IG5hbWUgfHwgIldvcmtzaGVldCIsIHRhYmxlOiB0YWJsZS5pbm5lckhUTUwgfTsNCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0NCiAgICAgICAgdGhpcy51cmkgKyB0aGlzLmJhc2U2NCh0aGlzLmZvcm1hdCh0aGlzLnRlbXBsYXRlLCBjdHgpKTsNCiAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsNCiAgICB9LA0KICB9LA0KICBwcm9wczogW10sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpYWxvZ0Zvcm1Nb2RlOiAiYWRkIiwNCiAgICAgIGVtcGxveWVlczogW10sDQogICAgICBlbXBsb3llZUNsaWNrOiBudWxsLA0KICAgICAgZW1wbG95ZWVEZXRhaWw6IHt9LA0KICAgICAgaXNTaG93OiBmYWxzZSwNCiAgICAgIHRvdGFsUmVjb3JkOiAwLA0KICAgICAgdGltZU91dDogbnVsbCwNCiAgICAgIHBhZ2VTaXplU2VsZWN0ZWQ6ICIxMCIsDQogICAgICBwYWdlU2l6ZXM6IFsNCiAgICAgICAgeyBuYW1lOiAiMTAgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmciLCB2YWx1ZTogMTAgfSwNCiAgICAgICAgeyBuYW1lOiAiMjAgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmciLCB2YWx1ZTogMjAgfSwNCiAgICAgICAgeyBuYW1lOiAiMzAgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmciLCB2YWx1ZTogMzAgfSwNCiAgICAgICAgeyBuYW1lOiAiNDAgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmciLCB2YWx1ZTogNDAgfSwNCiAgICAgICAgeyBuYW1lOiAiNTAgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmciLCB2YWx1ZTogNTAgfSwNCiAgICAgIF0sDQogICAgICBwYWdlOiAxLA0KICAgICAgdG90YWxQYWdlczogMywNCiAgICAgIGZpbHRlcnM6ICIiLA0KICAgICAgZnVuY3Rpb25JbmRleDogbnVsbCwNCiAgICAgIGZ1bmN0aW9uczogWw0KICAgICAgICB7IG5hbWU6ICJOaMOibiBi4bqjbiIsIHZhbHVlOiAyIH0sDQogICAgICAgIHsgbmFtZTogIljDs2EiLCB2YWx1ZTogMSB9LA0KICAgICAgICB7IG5hbWU6ICJOZ8awbmcgc+G7rSBk4bulbmciLCB2YWx1ZTogMCB9LA0KICAgICAgXSwNCiAgICAgIGlzU2hvd0V4aXRzOiBmYWxzZSwNCiAgICAgIGlzU2hvd0RlbGV0ZTogZmFsc2UsDQogICAgICBpc0VtcGxveWVlQ29kZTogbnVsbCwNCiAgICAgIHVyaTogImRhdGE6YXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsO2Jhc2U2NCwiLA0KICAgICAgdGVtcGxhdGU6DQogICAgICAgICc8aHRtbCB4bWxuczpvPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2UiIHhtbG5zOng9InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOmV4Y2VsIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MCI+PGhlYWQ+PCEtLVtpZiBndGUgbXNvIDldPjx4bWw+PHg6RXhjZWxXb3JrYm9vaz48eDpFeGNlbFdvcmtzaGVldHM+PHg6RXhjZWxXb3Jrc2hlZXQ+PHg6TmFtZT57d29ya3NoZWV0fTwveDpOYW1lPjx4OldvcmtzaGVldE9wdGlvbnM+PHg6RGlzcGxheUdyaWRsaW5lcy8+PC94OldvcmtzaGVldE9wdGlvbnM+PC94OkV4Y2VsV29ya3NoZWV0PjwveDpFeGNlbFdvcmtzaGVldHM+PC94OkV4Y2VsV29ya2Jvb2s+PC94bWw+PCFbZW5kaWZdLS0+PC9oZWFkPjxib2R5Pjx0YWJsZT57dGFibGV9PC90YWJsZT48L2JvZHk+PC9odG1sPicsDQogICAgICBiYXNlNjQ6IGZ1bmN0aW9uKHMpIHsNCiAgICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzKSkpOw0KICAgICAgfSwNCiAgICAgIGZvcm1hdDogZnVuY3Rpb24ocywgYykgew0KICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC97KFx3Kyl9L2csIGZ1bmN0aW9uKG0sIHApIHsNCiAgICAgICAgICByZXR1cm4gY1twXTsNCiAgICAgICAgfSk7DQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgcGFnZXMoKSB7DQogICAgICB2YXIgcGFnZUFycmF5ID0gW107DQogICAgICB2YXIgc3RhcnQgPSB0aGlzLnBhZ2UgPj0gMyA/IHRoaXMucGFnZSAtIDEgOiAxOw0KICAgICAgdmFyIGVuZCA9DQogICAgICAgIHRoaXMucGFnZSA8IHRoaXMudG90YWxQYWdlIC0gMiA/IHRoaXMucGFnZSArIDEgOiB0aGlzLnRvdGFsUGFnZXM7DQogICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHsNCiAgICAgICAgcGFnZUFycmF5LnB1c2goaSk7DQogICAgICB9DQogICAgICByZXR1cm4gcGFnZUFycmF5Ow0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["EmployeeList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeList.vue","sourceRoot":"src/views/employee","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"EmployeeList\">\r\n      <div class=\"list-header\">\r\n        <div class=\"list-header-left\">Nhân viên</div>\r\n        <div class=\"list-header-right\">\r\n          <div class=\"btn-default\" @click=\"btnAddOnClick()\">\r\n            Thêm mới nhân viên\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"backgroud-table\">\r\n        <div class=\"table-kit\">\r\n          <div class=\"kit\">\r\n            <div class=\"kit-filter\">\r\n              <input\r\n                v-model=\"filters\"\r\n                @input=\"filterRecord(1)\"\r\n                class=\"filter-input\"\r\n                placeholder=\"Tìm theo mã, tên nhân viên\"\r\n              />\r\n              <div class=\"ic ic-max find-icon\"></div>\r\n            </div>\r\n            <div\r\n              class=\"btn-reload ic ic-max reload-icon\"\r\n              @click=\"loadData()\"\r\n            ></div>\r\n            <div\r\n              class=\"btn-excel ic ic-max excel-icon\"\r\n              @click=\"tableToExcel('table', 'test')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"list-table\">\r\n          <table\r\n            ref=\"table\"\r\n            id=\"tblListEmployee\"\r\n            class=\"table\"\r\n            width=\"100%\"\r\n            border=\"0\"\r\n          >\r\n            <thead>\r\n              <tr>\r\n                <th><input class=\"tb-checkbox\" type=\"checkbox\" /></th>\r\n                <th>MÃ NHÂN VIÊN</th>\r\n                <th>TÊN NHÂN VIÊN</th>\r\n                <th>GIỚI TÍNH</th>\r\n                <th>NGÀY SINH</th>\r\n                <th>SỐ CMND</th>\r\n                <th>CHỨC DANH</th>\r\n                <th>TÊN ĐƠN VỊ</th>\r\n                <th>SỐ TÀI KHOẢN</th>\r\n                <th>TÊN NGÂN HÀNG</th>\r\n                <th>CHI NHÁNH TK NGÂN HÀNG</th>\r\n                <th>CHỨC NĂNG</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr\r\n                v-for=\"employee in employees\"\r\n                :key=\"employee.employeeId\"\r\n                @click=\"\r\n                  GetEmployeeIdClick(employee.employeeId, employee.employeeCode)\r\n                \"\r\n                @dblclick=\"ShowEmployeeDetail(employee.employeeId)\"\r\n                v-bind:class=\"{\r\n                  employeeClick: employee.employeeId === employeeClick,\r\n                }\"\r\n              >\r\n                <th><input class=\"tb-checkbox\" type=\"checkbox\" /></th>\r\n                <th>{{ employee.employeeCode }}</th>\r\n                <th>{{ employee.employeeName }}</th>\r\n                <th>{{ employee.genderName }}</th>\r\n                <th>{{ fomatBirthday(employee.dateOfBirth) }}</th>\r\n                <th>{{ employee.identificationId }}</th>\r\n                <th>{{ employee.employeePositionName }}</th>\r\n                <th>{{ employee.employeeDepartmentName }}</th>\r\n                <th>{{ employee.bankNumber }}</th>\r\n                <th>{{ employee.bankName }}</th>\r\n                <th>{{ employee.bankBranch }}</th>\r\n                <th>\r\n                  <div style=\"display:flex\">\r\n                    <span\r\n                      style=\"color:#0374d6\"\r\n                      @click=\"ShowEmployeeDetail(employee.employeeId)\"\r\n                      >Sửa</span\r\n                    >\r\n                    <select\r\n                      class=\"function-select\"\r\n                      style=\"margin: -1px 0 0 5px;\"\r\n                      v-model=\"functionIndex\"\r\n                      @change=\"functionFillter(functionIndex)\"\r\n                    >\r\n                      <option\r\n                        v-for=\"f in functions\"\r\n                        :key=\"f.name\"\r\n                        :value=\"f.value\"\r\n                        >{{ f.name }}</option\r\n                      >\r\n                    </select>\r\n                  </div>\r\n                </th>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"list-footer\" style=\"border-top: 1px solid #bebebe\">\r\n          <dir class=\"list-footer-left\">\r\n            <div class=\"footer-text\">\r\n              Tổng số:\r\n              <span style=\"font-weight: bold\">{{ totalRecord }} </span> bản ghi\r\n            </div>\r\n          </dir>\r\n          <dir class=\"list-footer-right\">\r\n            <div class=\"footer-select-pagesize\">\r\n              <select\r\n                id=\"pageSize\"\r\n                v-model=\"pageSizeSelected\"\r\n                @change=\"loadData()\"\r\n              >\r\n                <option\r\n                  v-for=\"pageSize in pageSizes\"\r\n                  :key=\"pageSize.name\"\r\n                  :value=\"pageSize.value\"\r\n                  >{{ pageSize.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <div class=\"footer-select-page\">\r\n              <div\r\n                class=\"select-page-prev\"\r\n                v-if=\"page > 1\"\r\n                @click=\"filterRecord((page = page - 1))\"\r\n              >\r\n                Trước\r\n              </div>\r\n              <button\r\n                class=\"button-custom select-page-number\"\r\n                v-for=\"p in pages\"\r\n                :key=\"p\"\r\n                @click=\"filterRecord(p)\"\r\n                :class=\"{ 'btn-pagenumber-selected': p == page }\"\r\n              >\r\n                {{ p }}\r\n              </button>\r\n              <div\r\n                class=\"select-page-next\"\r\n                v-if=\"page < totalPages\"\r\n                @click=\"filterRecord((page = page + 1))\"\r\n              >\r\n                Sau\r\n              </div>\r\n            </div>\r\n          </dir>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <EmployeeDetail\r\n      :isShow=\"isShow\"\r\n      @hideDialog=\"HideEmployeeDetail()\"\r\n      :employee=\"employeeDetail\"\r\n      :formMode=\"dialogFormMode\"\r\n      @showNotice=\"ShowNotice\"\r\n      :maxRecord=\"totalRecord\"\r\n    />\r\n\r\n    <NoticeDialog\r\n      :isShowExits=\"isShowExits\"\r\n      :isShowDelete=\"isShowDelete\"\r\n      @hideNotice=\"HideNotice\"\r\n      :employeeCode=\"isEmployeeCode\"\r\n      :employeeClick=\"employeeClick\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\n\r\n//import components\r\nimport EmployeeDetail from \"./EmployeeDetail.vue\";\r\nimport NoticeDialog from \"../dialog/NoticeDialog.vue\";\r\nexport default {\r\n  components: {\r\n    EmployeeDetail,\r\n    NoticeDialog,\r\n  },\r\n  created() {\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n    loadTotalRecord() {\r\n      axios\r\n        .get(\"https://localhost:44355/api/v1/Employees/total\")\r\n        .then((res) => {\r\n          this.totalRecord = res.data;\r\n        });\r\n    },\r\n\r\n    loadData() {\r\n      axios\r\n        .get(\r\n          `https://localhost:44355/api/v1/Employees/pagging?pageIndex=1&pageSize=${this.pageSizeSelected}`\r\n        )\r\n        .then((res) => {\r\n          this.employees = res.data;\r\n          this.loadTotalRecord();\r\n        });\r\n    },\r\n    fomatBirthday(cusbirthday) {\r\n      if (cusbirthday == null) {\r\n        return \"Không có\";\r\n      }\r\n      return dayjs(cusbirthday).format(\"DD/MM/YYYY\");\r\n    },\r\n    GetEmployeeIdClick(employeeId, employeeCode) {\r\n      this.employeeClick = employeeId;\r\n      this.isEmployeeCode = employeeCode;\r\n    },\r\n    ShowEmployeeDetail(employeeId) {\r\n      axios\r\n        .get(\"https://localhost:44355/api/v1/Employees/\" + employeeId)\r\n        .then((res) => {\r\n          this.employeeDetail = res.data;\r\n          this.isShow = true;\r\n          this.dialogFormMode = \"edit\";\r\n        });\r\n    },\r\n    btnAddOnClick() {\r\n      this.isShow = true;\r\n      this.dialogFormMode = \"add\";\r\n      this.employeeDetail = {};\r\n    },\r\n    HideEmployeeDetail() {\r\n      this.isShow = false;\r\n      this.loadData();\r\n    },\r\n    filterRecord(pageIndex) {\r\n      clearTimeout(this.timeOut);\r\n      this.timeOut = setTimeout(() => {\r\n        axios\r\n          .get(\r\n            `https://localhost:44355/api/v1/Employees/pagging?pageIndex=${pageIndex}&pageSize=${this.pageSizeSelected}&fillter=${this.filters}`\r\n          )\r\n          .then((res) => {\r\n            this.totalRecord = res.data.length;\r\n            this.employees = res.data;\r\n            this.page = pageIndex;\r\n            if (res.data.length >= this.pageSizeSelected) {\r\n              this.totalPages = pageIndex + 1;\r\n            } else {\r\n              this.totalPages = pageIndex;\r\n            }\r\n          });\r\n      }, 500);\r\n    },\r\n    functionFillter(functionCode) {\r\n      if (functionCode == 1) {\r\n        this.isShowDelete = true;\r\n      }\r\n\r\n      this.functionIndex = null;\r\n    },\r\n    functionDelete() {\r\n      axios\r\n        .delete(\r\n          `https://localhost:44355/api/v1/Employees?employeeId=${this.employeeClick}`\r\n        )\r\n        .then(() => {\r\n          this.loadData();\r\n          this.page = 1;\r\n          this.totalPages = 3;\r\n        });\r\n    },\r\n    ShowNotice(employeeCode) {\r\n      this.isShowExits = true;\r\n      this.isEmployeeCode = employeeCode;\r\n    },\r\n    HideNotice() {\r\n      this.isShowExits = false;\r\n      this.isShowDelete = false;\r\n      this.functionDelete();\r\n    },\r\n    tableToExcel(table, name) {\r\n      if (!table.nodeType) table = this.$refs.table;\r\n      var ctx = { worksheet: name || \"Worksheet\", table: table.innerHTML };\r\n      window.location.href =\r\n        this.uri + this.base64(this.format(this.template, ctx));\r\n      console.log(window.location.href);\r\n    },\r\n  },\r\n  props: [],\r\n  data() {\r\n    return {\r\n      dialogFormMode: \"add\",\r\n      employees: [],\r\n      employeeClick: null,\r\n      employeeDetail: {},\r\n      isShow: false,\r\n      totalRecord: 0,\r\n      timeOut: null,\r\n      pageSizeSelected: \"10\",\r\n      pageSizes: [\r\n        { name: \"10 bản ghi trên 1 trang\", value: 10 },\r\n        { name: \"20 bản ghi trên 1 trang\", value: 20 },\r\n        { name: \"30 bản ghi trên 1 trang\", value: 30 },\r\n        { name: \"40 bản ghi trên 1 trang\", value: 40 },\r\n        { name: \"50 bản ghi trên 1 trang\", value: 50 },\r\n      ],\r\n      page: 1,\r\n      totalPages: 3,\r\n      filters: \"\",\r\n      functionIndex: null,\r\n      functions: [\r\n        { name: \"Nhân bản\", value: 2 },\r\n        { name: \"Xóa\", value: 1 },\r\n        { name: \"Ngưng sử dụng\", value: 0 },\r\n      ],\r\n      isShowExits: false,\r\n      isShowDelete: false,\r\n      isEmployeeCode: null,\r\n      uri: \"data:application/vnd.ms-excel;base64,\",\r\n      template:\r\n        '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',\r\n      base64: function(s) {\r\n        return window.btoa(unescape(encodeURIComponent(s)));\r\n      },\r\n      format: function(s, c) {\r\n        return s.replace(/{(\\w+)}/g, function(m, p) {\r\n          return c[p];\r\n        });\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    pages() {\r\n      var pageArray = [];\r\n      var start = this.page >= 3 ? this.page - 1 : 1;\r\n      var end =\r\n        this.page < this.totalPage - 2 ? this.page + 1 : this.totalPages;\r\n      for (let i = start; i <= end; i++) {\r\n        pageArray.push(i);\r\n      }\r\n      return pageArray;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import url(\"../../styles/views/employeeList.css\");\r\n\r\n.employeeClick {\r\n  background-color: #bbb;\r\n}\r\n.btn-pagenumber-selected {\r\n  border: 1px solid black;\r\n}\r\n</style>\r\n"]}]}