{"remainingRequest":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\src\\view\\employee\\EmployeeDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\src\\view\\employee\\EmployeeDetail.vue","mtime":1617726424664},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web\\Misa\\DemoVue\\MS2_49_TMQUY\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG1ldGhvZHM6ew0KICAgICAgICBidG5DbG9zZU9uQ2xpY2soKXsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImhpZGVEaWFsb2ciKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tGcm9tUmVxdWlyZWQoKXsNCiAgICAgICAgICAgIGxldCBlbXBsb3llZUNvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtRW1wbG95ZWVDb2RlJykudmFsdWU7DQogICAgICAgICAgICBsZXQgZnVsbE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtRnVsbE5hbWUnKS52YWx1ZTsNCiAgICAgICAgICAgIGxldCBpZGVudGl0eU51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1JZGVudGl0eU51bWJlcicpLnZhbHVlOw0KICAgICAgICAgICAgbGV0IGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LUVtYWlsJykudmFsdWU7IA0KICAgICAgICAgICAgbGV0IFBob25lTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LVBob25lTnVtYmVyJykudmFsdWU7DQoNCiAgICAgICAgICAgIGlmKGVtcGxveWVlQ29kZSA9PSAiIiB8fCBmdWxsTmFtZSA9PSAiIiB8fCBpZGVudGl0eU51bWJlciA9PSAiIiB8fCBlbWFpbCA9PSAiIiB8fCBQaG9uZU51bWJlciA9PSAiIil7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBidG5TYXZlT25DbGljaygpeyAgICAgICAgDQogICAgICAgICAgICBpZighdGhpcy5jaGVja0Zyb21SZXF1aXJlZCgpKXsNCiAgICAgICAgICAgICAgICBhbGVydCgiTeG7nWkgbmjhuq1wIMSR4bunIHRow7RuZyB0aW4hISEiKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZm9ybU1vZGUgPT0gImFkZCIpew0KICAgICAgICAgICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgICAgICAucG9zdCgnaHR0cDovL2FwaS5tYW5obnYubmV0L3YxL0VtcGxveWVlcycsIHRoaXMuZW1wbG95ZWUpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlRow6ptIHRow6BuaCBjw7RuZyEhISIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiaGlkZURpYWxvZyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgibG9hZERhdGEiKTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJNw6MgbmjDom4gdmnDqm4gxJHDoyB04buTbiB04bqhaS4gTeG7nWkgbmjhuq1wIGzhuqFpISEhIik7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgICAgICAucHV0KCdodHRwOi8vYXBpLm1hbmhudi5uZXQvdjEvRW1wbG95ZWVzLycgKyB0aGlzLmVtcGxveWVlLkVtcGxveWVlSWQsIHRoaXMuZW1wbG95ZWUpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlPhu61hIHRow6BuaCBjw7RuZyEhISIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiaGlkZURpYWxvZyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgibG9hZERhdGEiKTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJNw6MgbmjDom4gdmnDqm4gxJHDoyB04buTbiB04bqhaS4gTeG7nWkgbmjhuq1wIGzhuqFpISEhISIpOw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZm9ybWF0RGF0ZURETU1ZWShkYXRlKXsNCiAgICAgICAgICAgIGlmIChkYXRlID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZm9ybWF0TW9uZXkobW9uZXkpIHsNCiAgICAgICAgICAgIGlmKG1vbmV5KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gbW9uZXkudG9TdHJpbmcoKS5yZXBsYWNlKC8oXGQpKD89KFxkezN9KSsoPyFcZCkpL2csICckMS4nKSA7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICByZXR1cm4gIiINCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICB9LA0KICAgIHByb3BzOnsNCiAgICAgICAgaXNTaG93IDoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlfSwNCiAgICAgICAgZm9ybU1vZGU6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICJhZGQifSwNCiAgICAgICAgZW1wbG95ZWU6IHt0eXBlOiBPYmplY3QsIGRlZmF1bHQ6IG51bGx9LA0KICAgICAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICB9DQp9DQo="},{"version":3,"sources":["EmployeeDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeDetail.vue","sourceRoot":"src/view/employee","sourcesContent":["<template>\r\n    <div >\r\n        <form>\r\n         <div id=\"dlgEmployeeDetail\" class=\"dialog \" :class=\"{'dialog-hide':!isShow}\" >\r\n        <div class=\"model\"></div>\r\n        <div class=\"dialog-content\">\r\n            <div class=\"dialog-header\">\r\n                <div class=\"dialog-title\">THÔNG TIN NHÂN VIÊN</div>\r\n                <div class=\"dialog-close-button\" @click=\"btnCloseOnClick()\">&#x2715;</div>\r\n            </div>\r\n            <div class=\"dialog-body\">\r\n                <div class=\"dialog-body-avatar\">\r\n                    <div class=\"imgAvatar\"></div>\r\n                    <div class=\"txtAvatar\">(Vui lòng chọn ảnh có định dạng .ipg .jpeg .png .gif)</div>\r\n                </div>\r\n                <div class=\"dialog-body-employee-information\">\r\n                    <label>A .THÔNG TIN CHUNG:</label>\r\n                    <div class=\"employee-information-line\"></div> \r\n\r\n                    <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Mã nhân viên  (<span style=\"color: red\">*</span>)</label>\r\n                            <input id=\"input-EmployeeCode\" type=\"text\" required v-bind:value=\"employee.EmployeeCode\" v-on:input=\"employee.EmployeeCode = $event.target.value\"/>\r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Họ và tên (<span style=\"color: red\">*</span>)</label>\r\n                            <input id=\"input-FullName\" type=\"text\" required v-bind:value=\"employee.FullName\" v-on:input=\"employee.FullName = $event.target.value\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Ngày sinh</label>\r\n                            <input id=\"input-DateOfBirth\" type=\"date\" v-bind:value=\"formatDateDDMMYY(employee.DateOfBirth)\" v-on:input=\"employee.Gender = $event.target.DateOfBirth\"/>\r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Giới tính</label>\r\n                            <select id=\"select-Gender\" v-bind:value=\"employee.Gender\" v-on:input=\"employee.Gender = $event.target.value\">\r\n                            <option value=\"0\">Nữ</option>\r\n                            <option value=\"1\">Nam</option>\r\n                            <option value=\"2\">Không xác định</option>                           \r\n                        </select>\r\n                        </div>                  \r\n                    </div>\r\n\r\n                    <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Số CMTND/ Căn cước(<span style=\"color: red\">*</span>)</label>\r\n                            <input id=\"input-IdentityNumber\" type=\"text\" v-bind:value=\"employee.IdentityNumber\" v-on:input=\"employee.IdentityNumber = $event.target.value\" required/>\r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Ngày cấp</label>\r\n                            <input id=\"input-IdentityDate\" type=\"date\" v-bind:value=\"formatDateDDMMYY(employee.IdentityDate)\" v-on:input=\"employee.IdentityDate = $event.target.value\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Nơi cấp</label>\r\n                            <input id=\"input-IdentityPlace\" type=\"text\"  v-bind:value=\"employee.IdentityPlace\" v-on:input=\"employee.IdentityPlace = $event.target.value\" />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Email  (<span style=\"color: red\">*</span>)</label>\r\n                            <input id=\"input-Email\" type=\"text\" required  v-bind:value=\"employee.Email\" v-on:input=\"employee.Email = $event.target.value\"/>\r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Số điện thoại (<span style=\"color: red\">*</span>)</label>\r\n                            <input id=\"input-PhoneNumber\" type=\"text\" required v-bind:value=\"employee.PhoneNumber\" v-on:input=\"employee.PhoneNumber = $event.target.value\" />\r\n                        </div>\r\n                    </div>\r\n                    <br>\r\n\r\n                    <label>B .THÔNG TIN CÔNG VIỆC:</label>\r\n                    <div class=\"employee-information-line\"></div> \r\n\r\n                     <div class=\"m-row\">\r\n                        <div class=\"m-col\">\r\n                            <label>Vị trí</label>\r\n                            <select id=\"select-Position\" v-bind:value=\"employee.PositionId\" v-on:input=\"employee.PositionId = $event.target.value\" >\r\n                            <option value=\"148ed882-32b8-218e-9c20-39c2f00615e8\">Nhân viên Marketting</option>      \r\n                            <option value=\"3700cc49-55b5-69ea-4929-a2925c0f334d\">Giám đốc</option>\r\n                            <option value=\"25c6c36e-1668-7d10-6e09-bf1378b8dc91\">Thu ngân</option>                                                   \r\n                        </select>\r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Phòng ban</label>\r\n                            <select id=\"select-Department\" v-bind:value=\"employee.DepartmentId\" v-on:input=\"employee.DepartmentId = $event.target.value\" >\r\n                            <option value=\"17120d02-6ab5-3e43-18cb-66948daf6128\">Phòng đào tạo</option>                    \r\n                            <option value=\"4e272fc4-7875-78d6-7d32-6a1673ffca7c\">Phòng công nghệ</option>       \r\n                            <option value=\"469b3ece-744a-45d5-957d-e8c757976496\">Phòng nhân sự</option>\r\n                            <option value=\"142cb08f-7c31-21fa-8e90-67245e8b283e\">Phòng Marketting</option> \r\n                        </select>\r\n                        </div>\r\n                    </div>\r\n                <div class=\"m-row\">\r\n                    <div class=\"m-col\">\r\n                            <label>Mã số thuế cá nhân</label>\r\n                            <input id=\"input-PersonalTaxCode\" type=\"text\" v-bind:value=\"employee.PersonalTaxCode\" v-on:input=\"employee.PersonalTaxCode = $event.target.value\"/>                         \r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Mức lương cơ bản</label>\r\n                            <input id=\"input-Salary\" type=\"text\" v-bind:value=\"formatMoney(employee.Salary) \" v-on:input=\"employee.Salary = $event.target.value\"/>       \r\n                        </div>\r\n                </div>\r\n\r\n                 <div class=\"m-row\">\r\n                    <div class=\"m-col\">\r\n                            <label>Ngày gia nhập công ty</label>\r\n                            <input id=\"input-JoinDate\" type=\"date\" v-bind:value=\"formatDateDDMMYY(employee.JoinDate)\" v-on:input=\"employee.JoinDate = $event.target.value\"/>                         \r\n                        </div>\r\n                        <div class=\"m-col\">\r\n                            <label>Tình trạng công việc</label>\r\n                            <select id=\"input-WorkStatus\" v-bind:value=\"employee.WorkStatus\" v-on:input=\"employee.WorkStatus = $event.target.value\" >\r\n                            <option value=\"0\">Đang thử việc</option>\r\n                            <option value=\"1\">Đã nghỉ việc</option>\r\n                            <option value=\"2\">Đã nghỉ hưu</option>                           \r\n                        </select>    \r\n                        </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"dialog-footer\">\r\n                <button id=\"btnClose\" class=\"btn-default\" @click=\"btnCloseOnClick()\">Hủy</button>\r\n                <button id=\"btnSave\"  class=\"btn-default\" @click=\"btnSaveOnClick()\">Lưu</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n </form>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    methods:{\r\n        btnCloseOnClick(){\r\n            this.$emit(\"hideDialog\");\r\n        },\r\n        checkFromRequired(){\r\n            let employeeCode = document.getElementById('input-EmployeeCode').value;\r\n            let fullName = document.getElementById('input-FullName').value;\r\n            let identityNumber = document.getElementById('input-IdentityNumber').value;\r\n            let email = document.getElementById('input-Email').value; \r\n            let PhoneNumber = document.getElementById('input-PhoneNumber').value;\r\n\r\n            if(employeeCode == \"\" || fullName == \"\" || identityNumber == \"\" || email == \"\" || PhoneNumber == \"\"){\r\n                return false;\r\n            }else{\r\n                 return true;\r\n            }\r\n        },\r\n        btnSaveOnClick(){        \r\n            if(!this.checkFromRequired()){\r\n                alert(\"Mời nhập đủ thông tin!!!\");\r\n            }else{\r\n                if(this.formMode == \"add\"){\r\n                    axios\r\n                    .post('http://api.manhnv.net/v1/Employees', this.employee)\r\n                    .then(() =>{\r\n                        alert(\"Thêm thành công!!!\");\r\n                        this.$emit(\"hideDialog\");\r\n                        this.$emit(\"loadData\");\r\n                    })\r\n                    .catch(() => {\r\n                        alert(\"Mã nhân viên đã tồn tại. Mời nhập lại!!!\");\r\n                    })\r\n                }else {\r\n                    axios\r\n                    .put('http://api.manhnv.net/v1/Employees/' + this.employee.EmployeeId, this.employee)\r\n                    .then(() =>{\r\n                        alert(\"Sửa thành công!!!\");\r\n                        this.$emit(\"hideDialog\");\r\n                        this.$emit(\"loadData\");\r\n                    })\r\n                    .catch(() => {            \r\n                        alert(\"Mã nhân viên đã tồn tại. Mời nhập lại!!!!\");\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        formatDateDDMMYY(date){\r\n            if (date == null) {\r\n                return null;\r\n            }else{\r\n                return date.toString().substring(0, 10);\r\n            }\r\n        },\r\n        formatMoney(money) {\r\n            if(money){\r\n                return money.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.') ;\r\n            }else{\r\n                return \"\"\r\n            }\r\n        }\r\n        \r\n    },\r\n    props:{\r\n        isShow : {type: Boolean, default: false},\r\n        formMode: {type: String, default: \"add\"},\r\n        employee: {type: Object, default: null},\r\n        },\r\n    created(){\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}